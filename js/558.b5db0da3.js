"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[558],{2425:function(e,a,n){n.d(a,{Z:function(){return U}});var i=n(3396),o=n(9242),r=n(7139);const t={key:0,class:"error-message"},l={key:1,class:"error-message"},s={key:2,class:"error-message"},c={class:"form-group mt-3 ml-1"},u=(0,i._)("p",null,[(0,i._)("strong",null,"Тип фільма")],-1),d={key:0,class:"error-message"};function m(e,a,n,m,g,h){const p=(0,i.up)("input-component"),v=(0,i.up)("textarea-component"),$=(0,i.up)("img-component"),k=(0,i.up)("imgs-component"),y=(0,i.up)("checkbox-component"),V=(0,i.up)("seo-component");return(0,i.wg)(),(0,i.iD)("form",{action:"",onSubmit:a[11]||(a[11]=(0,o.iM)(((...e)=>h.Save&&h.Save(...e)),["prevent"]))},[(0,i.Wm)(p,{label:"Назва кінотеатра",id:"cinemaName",type:"text",placeholder:"Введіть назву кінотеатра",modelValue:g.cinemaName,"onUpdate:modelValue":a[0]||(a[0]=e=>g.cinemaName=e),error:m.v$.cinemaName.$error?"Поле є обовязковим":""},null,8,["modelValue","error"]),(0,i.Wm)(v,{class:"mt-3",label:"Опис",id:"cinemaDescription",placeholder:"Введіть опис кінотеатра",modelValue:g.cinemaDescription,"onUpdate:modelValue":a[1]||(a[1]=e=>g.cinemaDescription=e),error:m.v$.cinemaDescription.$error?"Поле є обовязковим":""},null,8,["modelValue","error"]),(0,i.Wm)(v,{class:"mt-3",label:"Умови",id:"cinemaConditions",placeholder:"Введіть умови кінотеатра",modelValue:g.cinemaConditions,"onUpdate:modelValue":a[2]||(a[2]=e=>g.cinemaConditions=e),error:m.v$.cinemaConditions.$error?"Поле є обовязковим":""},null,8,["modelValue","error"]),(0,i.Wm)($,{modelValue:g.logoPicture,"onUpdate:modelValue":a[3]||(a[3]=e=>g.logoPicture=e),class:(0,r.C_)([{"is-invalid":m.v$.logoPicture.$error},"mt-3"]),onDeleteMainPicture:h.delImage,title:"Логотип"},null,8,["modelValue","class","onDeleteMainPicture"]),m.v$.logoPicture.$error?((0,i.wg)(),(0,i.iD)("p",t,"Виберіть логотип")):(0,i.kq)("",!0),(0,i.Wm)($,{modelValue:g.topBannerPicture,"onUpdate:modelValue":a[4]||(a[4]=e=>g.topBannerPicture=e),class:(0,r.C_)([{"is-invalid":m.v$.topBannerPicture.$error},"mt-3"]),onDeleteMainPicture:h.delImage,title:"Картинка верхнього банера"},null,8,["modelValue","class","onDeleteMainPicture"]),m.v$.topBannerPicture.$error?((0,i.wg)(),(0,i.iD)("p",l,"Виберіть картинку верхнього банера")):(0,i.kq)("",!0),(0,i.Wm)(k,{modelValue:g.gallary,"onUpdate:modelValue":a[5]||(a[5]=e=>g.gallary=e),class:(0,r.C_)([{"is-invalid":m.v$.gallary.$error},"mt-3"]),onNewImage:h.addImage,onDelImage:h.delImage,onChangeImage:h.changeImage},null,8,["modelValue","class","onNewImage","onDelImage","onChangeImage"]),m.v$.gallary.$error?((0,i.wg)(),(0,i.iD)("p",s,"Виберіть картинку")):(0,i.kq)("",!0),(0,i.Wm)(p,{class:"mt-3",label:"Силка на трейлер",id:"trailerLink",type:"text",placeholder:"Введіть силку на трейлер в youtube...",modelValue:g.trailerLink,"onUpdate:modelValue":a[6]||(a[6]=e=>g.trailerLink=e),error:m.v$.trailerLink.$error?"Поле є обовязковим":""},null,8,["modelValue","error"]),(0,i._)("div",c,[u,(0,i._)("div",{class:(0,r.C_)(["row",{"is-invalid":m.v$.typeFilm.$error}])},[(0,i.Wm)(y,{modelValue:g.typeFilm["3D"],"onUpdate:modelValue":a[7]||(a[7]=e=>g.typeFilm["3D"]=e),id:"3D",label:"3D"},null,8,["modelValue"]),(0,i.Wm)(y,{modelValue:g.typeFilm["2D"],"onUpdate:modelValue":a[8]||(a[8]=e=>g.typeFilm["2D"]=e),id:"2D",label:"2D"},null,8,["modelValue"]),(0,i.Wm)(y,{modelValue:g.typeFilm.IMAX,"onUpdate:modelValue":a[9]||(a[9]=e=>g.typeFilm.IMAX=e),id:"IMAX",label:"IMAX"},null,8,["modelValue"])],2),m.v$.typeFilm.$error?((0,i.wg)(),(0,i.iD)("p",d,"Виберіть тип фільма")):(0,i.kq)("",!0)]),(0,i.Wm)(V,{modelValue:g.SEO,"onUpdate:modelValue":a[10]||(a[10]=e=>g.SEO=e)},null,8,["modelValue"])],32)}n(7658);var g=n(4219),h=n(5420),p=n(7316),v=n(6099),$=n(8651),k=n(2830),y=n(8723),V=n(4254),C=n(151),D=n(4494),b={components:{inputComponent:p.Z,imgComponent:$.Z,imgsComponent:k.Z,checkboxComponent:y.Z,SeoComponent:V.Z,textareaComponent:v.Z},setup(){const e=(0,g.Xw)();return{v$:e}},data(){return{cinemaName:"",cinemaDescription:"",cinemaConditions:"",logoPicture:{},topBannerPicture:{},gallary:[],trailerLink:"",typeFilm:{"3D":!1,"2D":!1,IMAX:!1},SEO:{link:"",title:"",keywords:"",description:""},ListDeleteImages:[],cloudFirestore:new D.r,cloudStorage:new C.o}},props:{language:String,collectionRef:Object,id:String,saveTriger:Boolean},mounted(){this.GetFilm()},validations(){return{cinemaName:{required:h.C1,$lazy:!0},cinemaDescription:{required:h.C1,$lazy:!0},cinemaConditions:{required:h.C1,$lazy:!0},logoPicture:{required:h.C1,$lazy:!0},topBannerPicture:{required:h.C1,$lazy:!0},gallary:{required:h.C1,$lazy:!0}}},computed:{fileFolderPath(){return`films/${this.language}/${this.id}`}},methods:{addImage(e){this.gallary.push(e)},delImage(e){this.ListDeleteImages.push(e)},changeImage(e){this.gallary=this.gallary.map((a=>a.id===e.id?e:a))},GetFilm(){this.ListDeleteImages=[],this.cloudFirestore.getDocument(this.collectionRef,this.$route.params.id).then((e=>{e&&Object.assign(this.$data,e)}))},async Save(){}},watch:{saveTriger(){this.Save()}}},L=n(89);const f=(0,L.Z)(b,[["render",m]]);var U=f},2344:function(e,a,n){n.r(a),n.d(a,{default:function(){return b}});var i=n(3396),o=n(7139),r=n(9242);const t={class:"btn-group btn-group-toggle","data-toggle":"buttons"},l=["id"],s=(0,i._)("span",null,"Зберегти",-1),c=[s],u=(0,i._)("span",null,"Зберегти",-1),d=[u];function m(e,a,n,s,u,m){const g=(0,i.up)("addCinemaForm"),h=(0,i.up)("card");return(0,i.wg)(),(0,i.j4)(h,{title:u.title,isLoading:m.isLoading},{tools:(0,i.w5)((()=>[(0,i._)("div",t,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.languages,(e=>((0,i.wg)(),(0,i.iD)("label",{key:e.id,class:(0,o.C_)(["btn btn-secondary",{active:e.checked}])},[(0,i._)("input",{type:"radio",name:"options",id:e.id,autocomplete:"off",onChange:a[0]||(a[0]=(...e)=>m.changeCheckbox&&m.changeCheckbox(...e))},null,40,l),(0,i.Uk)(" "+(0,o.zw)(e.name),1)],2)))),128))])])),body:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(g,{language:"Ua",collectionRef:m.collection("Ua"),id:u.id,onIsLoading:m.changeLoadingUa,saveTriger:u.saveTriger,onErorr:m.changeErorrUa},null,8,["collectionRef","id","onIsLoading","saveTriger","onErorr"]),[[r.F8,"Ua"===m.currenLanguage]]),(0,i.wy)((0,i.Wm)(g,{language:"En",collectionRef:m.collection("En"),id:u.id,onIsLoading:m.changeLoadingEn,saveTriger:u.saveTriger,onErorr:m.changeErorrEn},null,8,["collectionRef","id","onIsLoading","saveTriger","onErorr"]),[[r.F8,"En"===m.currenLanguage]]),(0,i._)("button",{onClick:a[1]||(a[1]=(...e)=>m.Save&&m.Save(...e)),class:"btn btn-xs btn-success col fileinput-button"},c)])),footer:(0,i.w5)((()=>[(0,i._)("span",{class:"btn btn-xs btn-success col fileinput-button",onClick:a[2]||(a[2]=(...e)=>m.Save&&m.Save(...e))},d)])),_:1},8,["title","isLoading"])}n(7658);var g=n(4219),h=n(4494),p=n(36),v=n(4592),$=n(5660),k=n(117),y=n(2425),V={setup(){const e=(0,g.Xw)();return{v$:e}},data(){return{id:null,isLoadingUa:!1,isLoadingEn:!1,erorrUa:!1,erorrEn:!1,formValidate:!1,saveTriger:!1,uaValidate:!1,enValidate:!1,title:"Кінотеатр",languages:[{id:0,name:"Українська",value:"Ua",checked:!1},{id:1,name:"Англійська",value:"En",checked:!0}],cloudFirestore:new h.r}},created(){this.GetFilm()},components:{card:k.Z,addCinemaForm:y.Z},computed:{isLoading(){return!0===this.isLoadingEn||!0===this.isLoadingUa},error(){return!1!==this.erorrUa||!1!==this.erorrEn},curentIndex(){return!0===this.languages[0].checked?0:1},currenLanguage(){return!0===this.languages[0].checked?this.languages[0].value:this.languages[1].value},collectionRef(){const e=(0,p.JU)(v.hS,this.currenLanguage),a=(0,p.hJ)(e,"films");return a}},methods:{changeValidateStatus(e,a){a===this.uaValidate?this.uaValidate=e:this.enValidate=e},changeErorrUa(e){this.erorrUa=e},changeErorrEn(e){this.erorrEn=e},changeLoadingUa(e){this.isLoadingUa=e},changeLoadingEn(e){this.isLoadingEn=e},collection(e){const a=(0,p.JU)(v.hS,e),n=(0,p.hJ)(a,"films");return n},GetFilm(){this.cloudFirestore.getDocument(this.collection("En"),this.$route.params.id).then((e=>{e?this.id=this.$route.params.id:this.cloudFirestore.getDocument(this.collection("Ua"),this.$route.params.id).then((e=>{e?this.id=this.$route.params.id:(this.$router.push("New_Cinema"),this.id=(0,$.Cf)())}))}))},changeCheckbox(){!0===this.languages[0].checked?(this.languages[0].checked=!1,this.languages[1].checked=!0):(this.languages[1].checked=!1,this.languages[0].checked=!0)},async Save(){await this.v$.$validate()&&(this.saveTriger=!this.saveTriger)}}},C=n(89);const D=(0,C.Z)(V,[["render",m]]);var b=D}}]);
//# sourceMappingURL=558.b5db0da3.js.map