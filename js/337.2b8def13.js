"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[337],{8762:function(e,a,t){t.d(a,{Z:function(){return g}});var n=t(3396);const o=e=>((0,n.dD)("data-v-bb536a1a"),e=e(),(0,n.Cn)(),e),l={class:"box-1"},s=["checked"],i=o((()=>(0,n._)("span",{class:"toogle"},null,-1)));function d(e,a,t,o,d,u){return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("input",{checked:!t.modelValue,onChange:a[0]||(a[0]=a=>e.$emit("update:modelValue",!t.modelValue)),id:"2",type:"checkbox"},null,40,s),i])}var u={props:{id:String,label:String,modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}},r=t(89);const c=(0,r.Z)(u,[["render",d],["__scopeId","data-v-bb536a1a"]]);var g=c},5402:function(e,a,t){t.d(a,{Z:function(){return c}});var n=t(3396),o=t(7139);const l={class:"btn-group btn-group-toggle"},s=["id","onClick"];function i(e,a,t,i,d,u){return(0,n.wg)(),(0,n.iD)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.languages,(e=>((0,n.wg)(),(0,n.iD)("label",{key:e.id,class:(0,o.C_)(["btn btn-secondary",{active:e.checked,error:t.error[e.id].$errors.length}])},[(0,n._)("input",{type:"radio",name:"options",id:e.name,autocomplete:"off",onClick:a=>u.changeLanguage(e.id)},null,8,s),(0,n.Uk)(" "+(0,o.zw)(e.name),1)],2)))),128))])}var d={props:{error:Object,languages:{type:Array,default:()=>[{id:0,name:"",abbreviation:"",checked:!1}]}},methods:{changeLanguage(e){for(const a of this.languages)a.id===e?a.checked=!0:!0===a.checked&&(a.checked=!1)}}},u=t(89);const r=(0,u.Z)(d,[["render",i],["__scopeId","data-v-1fd42b0c"]]);var c=r},2532:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var n=t(3396);const o=(0,n._)("span",null,"Скинути зміни",-1),l=[o],s=(0,n._)("span",null,"Зберегти",-1),i=[s];function d(e,a,t,o,s,d){const u=(0,n.up)("checkbox-component"),r=(0,n.up)("language-component"),c=(0,n.up)("mainForm"),g=(0,n.up)("card");return(0,n.wg)(),(0,n.j4)(g,{title:s.title,isLoading:s.isLoading},{tools:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(u,{modelValue:s.checkedPage,"onUpdate:modelValue":a[0]||(a[0]=e=>s.checkedPage=e)},null,8,["modelValue"])]),(0,n.Wm)(r,{languages:s.languages,"onUpdate:languages":a[1]||(a[1]=e=>s.languages=e),error:o.v$.languages},null,8,["languages","error"])])),body:(0,n.w5)((()=>[(0,n.Wm)(c,{modelValue:d.currentLanguage.data,"onUpdate:modelValue":a[2]||(a[2]=e=>d.currentLanguage.data=e)},null,8,["modelValue"]),(0,n._)("button",{type:"button",onClick:a[3]||(a[3]=(...e)=>d.Reset&&d.Reset(...e)),class:"btn btn-xs btn-warning col fileinput-button"},l),(0,n._)("button",{type:"submit",onClick:a[4]||(a[4]=(...e)=>d.Save&&d.Save(...e)),class:"btn btn-xs btn-success col fileinput-button"},i)])),_:1},8,["title","isLoading"])}t(7658);var u=t(8762),r=t(4494),c=t(151),g=t(4219),p=t(5420),h=t(4592);const m={action:""};function b(e,a,t,o,l,s){const i=(0,n.up)("input-component"),d=(0,n.up)("textarea-component"),u=(0,n.up)("seo-component");return(0,n.wg)(),(0,n.iD)("form",m,[(0,n.Wm)(i,{label:"Номер телефона",id:"telephone1",type:"text",placeholder:"Введіть номер телефона",modelValue:o.telephone[0],"onUpdate:modelValue":a[0]||(a[0]=e=>o.telephone[0]=e),error:o.v$.telephone[0].$error?"Поле є обовязковим":""},null,8,["modelValue","error"]),(0,n.Wm)(i,{label:"Номер телефона",class:"mt-3",id:"telephone2",type:"text",placeholder:"Введіть номер телефона",modelValue:o.telephone[1],"onUpdate:modelValue":a[1]||(a[1]=e=>o.telephone[1]=e),error:o.v$.telephone[1].$error?"Поле є обовязковим":""},null,8,["modelValue","error"]),(0,n.Wm)(d,{class:"mt-3",label:"SEO текст",id:"SEOText",type:"textarea",placeholder:"Введіть SEO текст",modelValue:o.seoText,"onUpdate:modelValue":a[2]||(a[2]=e=>o.seoText=e)},null,8,["modelValue"]),(0,n.Wm)(u,{modelValue:o.seo,"onUpdate:modelValue":a[3]||(a[3]=e=>o.seo=e)},null,8,["modelValue"])])}var v=t(599),f=t(7316),k=t(7335),V=t(4870),y={components:{inputComponent:f.Z,textareaComponent:v.Z,SeoComponent:k.Z},props:{modelValue:{type:Object,default:()=>({telephone:{0:"",1:""},seoText:"",seo:{}})}},setup(e,{emit:a}){const t=(0,g.Xw)(),o=(0,V.iH)(e.modelValue.telephone),l=(0,V.iH)(e.modelValue.seoText),s=(0,V.iH)(e.modelValue.seo),i=()=>{a("update:modelValue",{telephone:o.value?o.value:{},seoText:l.value?l.value:"",seo:s.value?s.value:{}})};return(0,n.m0)((()=>{o.value=e.modelValue.telephone,l.value=e.modelValue.seoText,s.value=e.modelValue.seo})),(0,n.YP)([o,l,s],i),{v$:t,telephone:o,seoText:l,seo:s}},validations(){return{telephone:{0:{required:p.C1,$lazy:!0},1:{required:p.C1,$lazy:!0}}}}},w=t(89);const x=(0,w.Z)(y,[["render",b],["__scopeId","data-v-2d483a40"]]);var C=x,F=t(5402),L=t(1994),_=t(373),S=t.n(_),$=t(8335),D={components:{card:L.Z,mainForm:C,LanguageComponent:F.Z,checkboxComponent:u.Z},setup(){const e=(0,g.Xw)();return{v$:e}},data(){return{name:"Main",checkedPage:!0,cloudFirestore:new r.r,cloudStorage:new c.o,languages:[{id:0,name:"Українська",abbreviation:"Ua",collection:h.LS,checked:!1,data:{telephone:{0:"",1:""},seoText:"",seo:{}}},{id:1,name:"Англійська",abbreviation:"En",collection:h.Kd,checked:!0,data:{telephone:{0:"",1:""},seoText:"",seo:{}}}],title:"Головна сторінка",isLoading:!1}},validations(){const e=this;return{languages:[...(()=>{const a=[{data:{telephone:{0:{required:p.C1},1:{required:p.C1}}}}];return e.languages.forEach(((e,t)=>{t>0&&a.push({data:{telephone:{0:{required:p.C1},1:{required:p.C1}}}})})),a})()]}},created(){this.GetFile(this.languages[0]),this.GetFile(this.languages[1])},computed:{currentLanguage(){const e=this.languages.find((e=>!0===e.checked));return e||{}},id(){return"Main"}},methods:{GetFile(e){this.cloudFirestore.getDocument(e.collection,"Main").then((a=>{a&&(this.checkedPage=a.checkedPage,Object.assign(e.data,a))}))},async DeleteFirebaseImages(e,a){if(void 0!==e&&e.length>0)for(const t of e)await this.cloudStorage.DeleteFileInFirebaseStorage(a,t)},async AddFirebaseImage(e,a){e.src?(e.link=await this.cloudStorage.UploadFile(a,e),delete e.src):e={}},async AddFirebaseImages(e,a){if(e&&e.length)for(let t=0;t<e.length;t++){const n=e[t];n.src&&(n.link=await this.cloudStorage.UploadFile(a,n),delete n.src)}},async AddFirebaseData(e,a){const t=await{checkedPage:this.checkedPage,fileName:this.id,telephone:e.telephone,seoText:e.seoText,seo:e.seo,datePublication:$.ou.now().toFormat("dd.LL.yyyy"),name:"Головна сторінка"};await this.cloudFirestore.AddDocument(a,this.id,t)},async Reset(){this.isLoading=!0,await this.GetFile(this.currentLanguage),S().success("Дані успішно скинуто"),this.isLoading=!1},async Save(){if(this.isLoading=!0,await this.v$.$validate()){for(let e=0;e<this.languages.length;e++)await this.AddFirebaseData(this.languages[e].data,this.languages[e].collection);S().success("Дані успішно збережено")}else S().warning("Введіть всі дані");this.isLoading=!1}}};const T=(0,w.Z)(D,[["render",d]]);var Z=T}}]);
//# sourceMappingURL=337.2b8def13.js.map