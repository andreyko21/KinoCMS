"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[609],{9675:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var a=n(3396);function i(e,t,n,i,l,o){const s=(0,a.up)("list-cinemas");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,{title:"Список кінотеатрів"})])}var l=n(7139);const o=e=>((0,a.dD)("data-v-738c00a4"),e=e(),(0,a.Cn)(),e),s=o((()=>(0,a._)("i",{class:"fas fa-plus-circle"},null,-1))),c=[s],d={class:"list d-inline-block"},r={class:"item"},m={class:"image-wrapper"},u=["onClick"],g=o((()=>(0,a._)("span",null,"Змінити",-1))),p=[g],h=["onClick"],C=o((()=>(0,a._)("span",null,"Видалити",-1))),b=[C],w=["src"];function _(e,t,n,i,o,s){const g=(0,a.up)("modal-component"),C=(0,a.up)("card-component");return(0,a.wg)(),(0,a.j4)(C,{class:"card-dark",title:n.title,isLoading:o.isLoading},{tools:(0,a.w5)((()=>[(0,a._)("button",{class:"button-add",onClick:t[0]||(t[0]=e=>s.OpenCinema("New_Cinema"))},c)])),body:(0,a.w5)((()=>[(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.cinemasList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"d-inline-block",key:e.id},[(0,a._)("div",r,[(0,a._)("div",m,[(0,a._)("button",{class:"btn change-img",type:"button",onClick:t=>s.OpenCinema(e.fileName)},p,8,u),(0,a._)("button",{class:"btn del-img",type:"button",onClick:t=>s.Delete(e.fileName)},b,8,h),(0,a._)("img",{class:"img",src:e.logoImg.link,alt:"film.imgAlt"},null,8,w)]),(0,a._)("p",null,(0,l.zw)(e.name),1)])])))),128))]),(0,a.Wm)(g,{modelValue:o.showWarning,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showWarning=e),id:o.deleteCinemaName,onDelete:s.DeleteCinema},null,8,["modelValue","id","onDelete"])])),_:1},8,["title","isLoading"])}n(7658);var k=n(4592),f=n(117),D=n(151),v=n(4494),y=n(3027),S={components:{cardComponent:f.Z,ModalComponent:y.Z},data(){return{isLoading:!1,cinemasList:[],cloudFirestore:new v.r,cloudStorage:new D.o,deleteCinemaName:"",showWarning:!1}},props:{param:String,title:String},created(){this.GetCinemas()},methods:{OpenCinema(e){this.$router.push(`Cinemas/${e}`)},Delete(e){this.deleteCinemaName=e,this.showWarning=!0},async DeleteCinema(e){this.isLoading=!0,this.deleteCinemaName=e,console.log(e),this.showWarning=!0,await this.cloudStorage.DeleteFolderInFirebaseStorage(`cinemas/En/${e}`),await this.cloudStorage.DeleteFolderInFirebaseStorage(`cinemas/Ua/${e}`),await this.cloudFirestore.DeleteDocument(k.fh,e),await this.cloudFirestore.DeleteDocument(k.It,e),this.GetCinemas(),this.isLoading=!1},async GetCinemas(){try{const e=await this.cloudFirestore.GetAllDocuments(k.fh);this.cinemasList=e.docs.map((e=>e.data()))}catch(e){console.error("Error getting documents: ",e)}}}},L=n(89);const F=(0,L.Z)(S,[["render",_],["__scopeId","data-v-738c00a4"]]);var V=F,N={components:{listCinemas:V}};const W=(0,L.Z)(N,[["render",i]]);var $=W},3027:function(e,t,n){n.d(t,{Z:function(){return C}});var a=n(3396),i=n(7139);const l={class:"modal-dialog"},o={class:"modal-content bg-warning"},s={class:"modal-header"},c=(0,a._)("h4",{class:"modal-title"},"Ви дійсно хочете видалити фільм?",-1),d=(0,a._)("span",{"aria-hidden":"true"},"×",-1),r=[d],m={class:"modal-footer justify-content-between"};function u(e,t,n,d,u,g){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["modal fade",{show:n.modelValue}]),style:(0,i.j5)(g.modalStyle)},[(0,a._)("div",l,[(0,a._)("div",o,[(0,a._)("div",s,[c,(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>g.Cancel&&g.Cancel(...e))},r)]),(0,a._)("div",m,[(0,a._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t[1]||(t[1]=(...e)=>g.Cancel&&g.Cancel(...e))},"Відмінити"),(0,a._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t[2]||(t[2]=(...e)=>g.Delete&&g.Delete(...e))},"Видалити")])])])],6)}var g={props:{id:String,message:String,modelValue:{type:Boolean,default:!0}},computed:{modalStyle(){return this.modelValue?{display:"block",paddingRight:"21px"}:{}}},methods:{Delete(){this.$emit("delete",this.id),this.$emit("update:modelValue",!1)},Cancel(){this.$emit("update:modelValue",!1)}}},p=n(89);const h=(0,p.Z)(g,[["render",u]]);var C=h}}]);
//# sourceMappingURL=609.06796702.js.map