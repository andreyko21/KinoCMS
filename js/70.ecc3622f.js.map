{"version":3,"file":"js/70.ecc3622f.js","mappings":"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","sources":["webpack://kinocms/./src/pages/films-page.vue","webpack://kinocms/./src/components/films-page/list-films.vue","webpack://kinocms/./src/components/films-page/list-films.vue?ebb1","webpack://kinocms/./src/pages/films-page.vue?e431","webpack://kinocms/./src/pages/modal-component.vue","webpack://kinocms/./src/pages/modal-component.vue?8418"],"sourcesContent":["<template>\r\n  <list-films :param=\"'<='\" title=\"Список поточних фільмів\"></list-films>\r\n  <list-films :param=\"'>'\" title=\"Список фільмів, які покажуть незабаром\"></list-films>\r\n</template>\r\n<script>\r\nimport listFilms from '@/components/films-page/list-films.vue'\r\nexport default {\r\n  components: { listFilms },\r\n  data () {\r\n    return {\r\n      show: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","<template>\r\n  <card-component class=\"card-dark\" :title=\"title\">\r\n    <template #tools> <button class=\"button-add\" @click=\"OpenFilm('New_Film')\"><i class=\"fas fa-plus-circle\"></i></button></template>\r\n    <template #body>\r\n  <div class=\"list d-inline-block\">\r\n  <div v-for=\"film in filmsList\" class=\"d-inline-block\" :key=\"film.id\">\r\n    <div class=\"item \">\r\n     <div class=\"image-wrapper\">\r\n      <button class=\"btn change-img\" type=\"button\" @click=\"OpenFilm(film.fileName)\">\r\n                <span>Змінити</span>\r\n              </button>\r\n      <button\r\n                class=\"btn del-img\"\r\n                type=\"button\"\r\n                @click=\"Delete(film.fileName)\"\r\n              >\r\n                <span>Видалити</span>\r\n              </button>\r\n    <img class=\"img\" :src=\"film.mainPicture.link\" :alt=\"film.imgAlt\" />\r\n  </div>\r\n    <p>{{ film.filmName }}</p>\r\n  </div>\r\n  </div>\r\n</div>\r\n<modal-component v-model=\"showWarning\" :id=\"deleteFilmName\" @delete=\"DeleteFilm\"></modal-component>\r\n</template>\r\n  </card-component>\r\n  </template>\r\n\r\n<script>\r\nimport cardComponent from '../UI/card-component.vue'\r\nimport { where } from 'firebase/firestore'\r\nimport { filmsEnCollectionRef, filmsUaCollectionRef } from '@/js/collections'\r\nimport { CloudStorage } from '@/js/cloudStorage'\r\nimport { CloudFirestore } from '@/js/cloudFirestore'\r\nimport { DateTime } from 'luxon'\r\nimport ModalComponent from '@/pages/modal-component.vue'\r\nexport default {\r\n  components: {\r\n    cardComponent,\r\n    ModalComponent\r\n  },\r\n  data () {\r\n    return {\r\n      filmsList: [],\r\n      cloudFirestore: new CloudFirestore(),\r\n      cloudStorage: new CloudStorage(),\r\n      deleteFilmName: '',\r\n      showWarning: false\r\n    }\r\n  },\r\n  props: {\r\n    param: String,\r\n    title: String\r\n  },\r\n  created () {\r\n    this.GetFilm()\r\n  },\r\n  methods: {\r\n    OpenFilm (id) {\r\n      this.$router.push(`Films/${id}`)\r\n    },\r\n    Delete (id) {\r\n      this.deleteFilmName = id\r\n      this.showWarning = true\r\n    },\r\n    async DeleteFilm (id) {\r\n      this.deleteFilmName = id\r\n      this.showWarning = true\r\n      await this.cloudStorage.DeleteFolderInFirebaseStorage(`films/En/${id}`)\r\n      await this.cloudStorage.DeleteFolderInFirebaseStorage(`films/Ua/${id}`)\r\n      await this.cloudFirestore.DeleteDocument(filmsUaCollectionRef, id)\r\n      await this.cloudFirestore.DeleteDocument(filmsEnCollectionRef, id)\r\n      this.filmsList = this.filmsList.filter(image => image.id !== id)\r\n    },\r\n    async GetFilm () {\r\n      this.ListDeleteImages = []\r\n      try {\r\n        const result = await this.cloudFirestore.GetFilteredDocuments(filmsEnCollectionRef, where('releaseDate', this.param, DateTime.now().toFormat('yyyy-LL-dd')))\r\n        this.filmsList = result.docs.map(doc => doc.data())\r\n      } catch (error) {\r\n        console.error('Error getting documents: ', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.button-add{\r\n  width: 100%;\r\n  height: 100%;\r\n  background: none;\r\n  border: none;\r\n  .fa-plus-circle{\r\n    color: green;\r\n  }\r\n}\r\n.list{\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 10px;\r\n  .image-wrapper {\r\n  background: gray;\r\n\r\n  .change-img {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 50%;\r\n  opacity: 0;\r\n  color: #fff;\r\n  &:hover {\r\n    opacity: 1;\r\n    background: rgba($color: #000000, $alpha: 0.5);\r\n  }\r\n}\r\n  .del-img {\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 50%;\r\n  opacity: 0;\r\n  color: rgb(0, 0, 0);\r\n  &:hover {\r\n    opacity: 1;\r\n    background: rgba($color: #fc6c6c, $alpha: 0.5);\r\n  }\r\n}\r\n}\r\n}\r\n\r\n.item{\r\n  width: 100%;\r\n  max-width: 200px;\r\n  height: 0;\r\n  padding-bottom: 200px;\r\n  position: relative;\r\n}\r\n\r\n.img{\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\n</style>\r\n","import { render } from \"./list-films.vue?vue&type=template&id=88ac1dd8&scoped=true\"\nimport script from \"./list-films.vue?vue&type=script&lang=js\"\nexport * from \"./list-films.vue?vue&type=script&lang=js\"\n\nimport \"./list-films.vue?vue&type=style&index=0&id=88ac1dd8&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Andreyko\\\\Documents\\\\kinocms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-88ac1dd8\"]])\n\nexport default __exports__","import { render } from \"./films-page.vue?vue&type=template&id=469616a2\"\nimport script from \"./films-page.vue?vue&type=script&lang=js\"\nexport * from \"./films-page.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Andreyko\\\\Documents\\\\kinocms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"modal fade\" :class=\"{'show': modelValue}\" :style=\"modalStyle\" >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content bg-warning\">\r\n            <div class=\"modal-header\">\r\n              <h4 class=\"modal-title\">Ви дійсно хочете видалити фільм?</h4>\r\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" @click=\"Cancel\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"modal-footer justify-content-between\">\r\n              <button type=\"button\" class=\"btn btn-outline-dark\" @click=\"Cancel\">Відмінити</button>\r\n              <button type=\"button\" class=\"btn btn-outline-dark\" @click=\"Delete\">Видалити</button>\r\n            </div>\r\n          </div>\r\n          <!-- /.modal-content -->\r\n        </div>\r\n        <!-- /.modal-dialog -->\r\n      </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    id: String,\r\n    message: String,\r\n    modelValue: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  computed: {\r\n    modalStyle () {\r\n      if (this.modelValue) {\r\n        return { display: 'block', paddingRight: '21px' }\r\n      } else {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    Delete () {\r\n      this.$emit('delete', this.id)\r\n      this.$emit('update:modelValue', false)\r\n    },\r\n    Cancel () {\r\n      this.$emit('update:modelValue', false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./modal-component.vue?vue&type=template&id=b6f09624\"\nimport script from \"./modal-component.vue?vue&type=script&lang=js\"\nexport * from \"./modal-component.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Andreyko\\\\Documents\\\\kinocms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_list_films","param","title","_createElementVNode","class","_hoisted_1","_hoisted_7","_hoisted_10","_createBlock","_component_card_component","$props","tools","_withCtx","onClick","_cache","$event","$options","OpenFilm","body","_hoisted_3","_createElementBlock","_Fragment","_renderList","$data","filmsList","film","key","id","_hoisted_4","_hoisted_5","type","fileName","Delete","src","mainPicture","link","alt","imgAlt","_toDisplayString","filmName","_component_modal_component","showWarning","deleteFilmName","onDelete","DeleteFilm","components","cardComponent","ModalComponent","data","cloudFirestore","CloudFirestore","cloudStorage","CloudStorage","props","String","created","this","GetFilm","methods","$router","push","async","DeleteFolderInFirebaseStorage","DeleteDocument","filmsUaCollectionRef","filmsEnCollectionRef","filter","image","ListDeleteImages","result","GetFilteredDocuments","where","DateTime","toFormat","docs","map","doc","error","console","__exports__","listFilms","show","render","_normalizeClass","modelValue","style","_normalizeStyle","modalStyle","_hoisted_2","args","Cancel","message","Boolean","default","computed","display","paddingRight","$emit"],"sourceRoot":""}